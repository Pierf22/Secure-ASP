<div class="container-fluid min-vh-100">
    <div class="alert alert-info text-center mt-4" role="alert">
        <i class="fas fa-info-circle me-2"></i>
        Note: Ensure that Python is installed on your system before proceeding with this tutorial. You can download it from <a href="https://www.python.org/downloads/" target="_blank">python.org</a>.
    </div>
    <!-- Header Section -->
    <div class="container my-5 py-4">
        <h1 class="text-center display-5 mb-4"><i class="fas fa-file-alt text-danger me-2"></i>Viewing Signed Files</h1>
        <p class="text-center lead text-muted">In this tutorial, you'll learn how to access and review files that have been securely signed and certified. Follow the steps below to verify and ensure the authenticity of these files.</p>


        <!-- Tutorial Content Section -->
        <div class="mt-5">
            <h2 class="mb-3">Step 1: Install Required Libraries</h2>
            <p>This script requires the following Python libraries. Make sure they are installed by running:</p>
            <pre class="code p-3 rounded"><code>pip install requests</code></pre>

            <h2 class="mt-5 mb-3">Step 2: Run the Verification Script</h2>
            <p>Once the libraries are installed, use the following Python script to verify signed files. This script will check that the signature matches the file content, ensuring its integrity and authenticity.</p>

            <!-- Download Button -->
            <div class="text-center mt-4">
                <a href="scripts/secure_asp.py" download="verify_signed_file.py" class="btn btn-primary" style="width: 100%;">
                    <i class="fas fa-download me-2"></i>Download Verification Script
                </a>
            </div>

             <!-- Required Parameters Section -->
             <div class="mt-5">
                <h3>Parameters</h3>
                <ul>
                    <li><strong>asp_file</strong> (required): Path to the .asp or .txt file you want to verify. Only files with .asp or .txt extensions are allowed.</li>
                    <li><strong>pem_file</strong> (required): Path to your .pem certificate file, which is needed to verify the file signature.</li>
                    <li><strong>--output_dir</strong> (optional): Directory where the verified file will be saved. Defaults to the current directory if not specified.</li>
                </ul>
            </div>

            <!-- Example Usage Section -->
            <div class="mt-4">
                <h3>Example Usage</h3>
                <p>To verify a signed file using the public key and signature, use the following command:</p>
                <pre class="code p-3 rounded"><code>python verify_signed_file.py public_key.pem file_to_verify.txt signature_file.sign</code></pre>
                <p>This command will confirm the authenticity of the file if the signature matches. If the file or signature has been tampered with, it will indicate an invalid signature.</p>
            </div>
            <!-- Example Output Section -->
<div class="mt-5">
    <h3>Example Output</h3>
    <p>If the verification process is successful, you should see an output similar to the one below. The script confirms the files being processed, successful upload and download, and displays file details such as encoding name, signer, and last update.</p>

    <pre class="code p-3 rounded">
<code>
Processing ASP/TXT file: MarioFiles/airports/ccc_encrypted.asp
Processing PEM certificate file: MarioFiles/certificate/certificate.pem
Output directory: .
Files uploaded successfully.
File downloaded successfully as ./ccc_unencrypted.asp.
Encoding name: ccc
Signed by: Mario22
Last update: 13 November 2024 16:27:45 UTC
</code>
    </pre>
    
    <p>This output indicates that the decrypted file was saved in the specified <code>output_dir</code> with a header containing important details:</p>
    <ul>
        <li><strong>Encoding name:</strong> The name of the encoding file.</li>
        <li><strong>Signed by:</strong> The user or entity that signed the file.</li>
        <li><strong>Last update:</strong> The timestamp of the last update, in UTC.</li>
    </ul>
    <p>This information ensures that the downloaded file is verified, authentic, and accurately represents the original signed data.</p>
</div>

        </div>

        <!-- FAQ Section using ng-bootstrap Accordion -->
        <h2 class="text-center mb-4"><i class="fas fa-question-circle me-2"></i>Frequently Asked Questions</h2>
        <div ngbAccordion class="mt-5 mb-5 mx-3">
          

            <div ngbAccordionItem [collapsed]="openFaq!=1" (click)="openFaq=1">
                <!-- FAQ 1 -->
                <h2 ngbAccordionHeader id="faq-1">
                    <button ngbAccordionButton>Can I verify files signed by others?</button>
                </h2>
                <div ngbAccordionCollapse>
                    <div ngbAccordionBody>
                        <ng-template>
                            Yes, you can verify files signed by others if the files are either public or have been specifically shared with you. In these cases, you don’t need access to the signer’s public key; you can use your own server-signed certificate to perform the verification. 
                        </ng-template>
                    </div>
                </div>
            </div>

            <div ngbAccordionItem [collapsed]="openFaq!=2" (click)="openFaq=2">
                <!-- FAQ 2 -->
                <h2 ngbAccordionHeader id="faq-2">
                    <button ngbAccordionButton>What should I do if the signature verification fails?</button>
                </h2>
                <div ngbAccordionCollapse>
                    <div ngbAccordionBody>
                        <ng-template>
                            If the signature verification fails, the file may have been tampered with or could be from an untrusted source. In such cases, avoid opening or using the file and contact the sender to confirm its authenticity. Additionally, if the encoding belongs to another user, it’s possible that they have revoked your access to the file, which may cause verification to fail.
                        </ng-template>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

